<html>
<head>
<script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>
<script type="text/javascript">
	function iframe_resize(){
		var body = document.body,
		html = document.documentElement,
		height = Math.max(body.scrollHeight, body.offsetHeight, 
		html.clientHeight, html.scrollHeight, html.offsetHeight);
		if (parent.postMessage) {
			parent.postMessage(height, "http://localhost");
		}
		alert(height);
	}
	
	$(function(){
		iframe_resize();
		$( window ).resize(iframe_resize);
	});
</script>
</head>
<body>
<div id="lipsum">
<p>
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut at diam ligula. Nulla vulputate mi quis euismod venenatis. Nullam accumsan nec erat vel hendrerit. Fusce arcu mauris, laoreet in mi ut, pretium semper felis. Nam sodales magna quis odio rhoncus, elementum lacinia purus placerat. Sed eget nulla ligula. Maecenas at malesuada erat. Quisque sem lectus, laoreet et sodales non, vestibulum eu felis. Vivamus interdum est quam, non hendrerit magna lacinia at. Donec ut nulla leo. Vestibulum sit amet augue a ex aliquet hendrerit dictum nec urna. Cras fringilla sed lectus sit amet euismod. Aliquam ac tincidunt erat. Maecenas viverra quis turpis vel venenatis. Cras diam sapien, malesuada et facilisis aliquet, convallis vel ante. Nam quis semper elit.
</p>
<p>
Ut a gravida leo. Curabitur maximus nulla a dui tincidunt, id consectetur quam bibendum. Nulla eu purus tempus, tempor arcu id, elementum ipsum. Aenean porttitor, nulla placerat placerat bibendum, ante felis fringilla lectus, a suscipit leo eros ut sapien. Nullam luctus, metus non vehicula condimentum, arcu augue vehicula nibh, sed consectetur diam ex sit amet nisi. Mauris laoreet, est ac suscipit euismod, libero nibh tempus odio, et semper mauris turpis sit amet nisl. Phasellus ac est ut purus sollicitudin scelerisque. Nam tincidunt malesuada neque ac pellentesque. Cras a blandit leo. Suspendisse vel suscipit sapien, et bibendum lorem.
</p>
<p>
Nunc placerat massa nec fermentum finibus. Duis arcu quam, varius sollicitudin accumsan vel, luctus quis massa. Mauris rutrum a est non sodales. Donec ullamcorper convallis nulla, sit amet placerat arcu dapibus eu. Morbi vel luctus ligula, consectetur porttitor sem. Etiam et tincidunt velit, ut cursus turpis. Aenean felis ligula, consectetur non mauris at, dignissim fringilla neque. Etiam vulputate lectus vel elit sodales elementum. Integer egestas, orci eu vehicula tristique, mi tellus sagittis nisl, ut viverra nunc ipsum eu ipsum. In porttitor convallis erat, quis sollicitudin sapien rutrum viverra. Cras tempor mauris nibh, vel semper urna pulvinar id. Vestibulum vestibulum consequat purus, vitae rhoncus ante cursus eget.
</p>
<p>
Pellentesque porta, ipsum nec sagittis facilisis, enim turpis faucibus arcu, eu porta augue elit sit amet velit. Nulla pharetra consequat metus quis blandit. Vivamus mauris lacus, ornare et rutrum ut, rhoncus ut felis. Mauris bibendum nisi a lectus tristique mattis. In ac suscipit nunc. Ut pharetra a sem at pretium. Phasellus at interdum metus, sit amet dapibus mi. Aenean ut lacus faucibus, iaculis augue quis, pretium nunc.
</p>
<p>
Aliquam nec neque neque. Vivamus varius metus in nisi sollicitudin egestas. Maecenas eu massa tincidunt, pharetra ex at, semper lacus. Proin mattis placerat interdum. Suspendisse vel ex arcu. Donec eu massa pellentesque ipsum condimentum mollis. Integer ac magna id risus eleifend ultrices at at enim. Aliquam erat volutpat. Fusce ullamcorper imperdiet magna, vel egestas urna consectetur vel. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae;
</p></div>
</body>
</html>